{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/promise/","result":{"data":{"markdownRemark":{"html":"<p>Promise는 자바스크립트에서 비동기 처리를 위해 사용되는 객체다. 알다시피 Promise의 의미는 약속이라는 의미다. <code class=\"language-text\">처리하면 알려줄게</code>라고 약속한다고 생각하면 될 것 같다.</p>\n<h2>비동기란?</h2>\n<p>동기의 경우 작업을 실행하면 결과를 받을 때까지 다른 일을 할 수가 없지만,<br>\n비동기의 경우 작업을 실행하고 결과를 받을 때까지 기다릴 필요 없이 다른 일을 할 수가 있는 차이가 있다.</p>\n<p>실생활에서 비동기의 예시를 드는 것이 카페에서 진동벨이다. 커피 주문을 하고 그 자리에서 주문한 커피를 기다려 받을 필요 없이, 나는 다른 일을 하면서 진동벨이 울리면 주문한 커피를 받으면 되는 것이다.  </p>\n<p>자바스크립트는 싱글 스레드로 한 번에 하나의 작업만 처리 할 수 있지만, 비동기를 통해 동시에 많은 작업을 수행 할 수가 있다.</p>\n<h2>Promise 사용법</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> testPromise1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 2000ms 지나면 알려줄게!</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'안녕!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 알려주는 값을 알기 위해서는 then을 통해 전달 받자!</span>\ntestPromise1<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Promise 사용 예</h2>\n<p>만약 쇼핑몰 사이트에서 유저가 주문한 상품의 상세 정보를 조회를 해야 한다.  </p>\n<h4>flow:</h4>\n<p>- 유저를 조회하고 조회한 유저의 주문한 상품 정보를 조회한다.</p>\n<h3>비동기로 인해 상품 정보를 조회할 수가 없다. (동시에 2개가 요청이 가버림)</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 예시 코드로 getUserById, getProductById 비동기 객체라는 가정을 한다.</span>\n<span class=\"token keyword\">let</span> user <span class=\"token operator\">=</span> <span class=\"token function\">getUserById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'유저ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> product <span class=\"token operator\">=</span> <span class=\"token function\">getProductById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>orderProductId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// product 값을 조회 할 수 없다.</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bade85e624b3ed55ba7b5d520cf9c8df/46e51/not_use_promise.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB70lEQVQoz21STWsTURSd/+VKRVNQ60dLXWhBEHShC3FhWxNMQ7VQiljxIytFbDduBGkdnSSTGYlaTHRmqg2mDII22SSdzGS+8ubjvTfeecGsPJzFfZdzOefeGe76k883ittX1mrFzWaSJDT5DyjreihaePbl2uNPoL/6sPZK1rmJXOVUXjx8S8i++EoJdhzX832MCaaU0ASIgSQdNt1gZrmayZZT/Zzw6M0uN7konl2CVqmwoSSU+L4/RCjGOIrjMIzCiDGMMI5NB82uyifzlXNMX9xqpsPnl+Xj2dLi+rdRbCChdDgcDv7BsizbMg9MZ3b1A+hnmP7pZpMD28sPPk7kSvl1Bfler3dgWQPD6HueRwjBcTze2fHDCyvS9D350v0a6NNhiHG6IB67nTqHaNjtdi3TMgzDtm3HdeyBHWMSE1iaWi66uCKfuFM5UxDBGQ7MTRaqU3elTK6cf6mMbosQAltI2zdNlyFmF7O8YBR7munTnY/Mv8tkhUM3+fnn9fGnSgMzQEEZoGn74dSSeHRBYPq3a6+/c6LWqWqd9/Xfqt6jhARBALYh3DeKIAIU0EmfYYiCqKr84bd/STudstLea5tc6oPxwOzv/Wy2Wi1d1yVJUlW10WgIggC1LMuapvE8v9/e3/2h7ij18c/zF4I24lmJTVD5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"not use promise\"\n        title=\"not use promise\"\n        src=\"/static/bade85e624b3ed55ba7b5d520cf9c8df/f058b/not_use_promise.png\"\n        srcset=\"/static/bade85e624b3ed55ba7b5d520cf9c8df/c26ae/not_use_promise.png 158w,\n/static/bade85e624b3ed55ba7b5d520cf9c8df/6bdcf/not_use_promise.png 315w,\n/static/bade85e624b3ed55ba7b5d520cf9c8df/f058b/not_use_promise.png 630w,\n/static/bade85e624b3ed55ba7b5d520cf9c8df/40601/not_use_promise.png 945w,\n/static/bade85e624b3ed55ba7b5d520cf9c8df/46e51/not_use_promise.png 1003w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>이때 Promise를 사용하여 해결 할 수 있다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// getUserByID와 getProductId는 Promise 객체로 바꿔 주었다.</span>\n<span class=\"token function\">getUserById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'유저ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getProductId</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>orderProductId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">product</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// product 값을 조회 할 수 있다.</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c9e464ffcf0b850783457d6e7a3539d/00d43/use_promise.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVQoz3VRTWsTURSdP+amgkltq1WKbgSxVTcuVQzOtE3VFjQ1jQtXitWNoIXu0jGZz0x0EToh00IqVp0QsYZI4zRvPt68+ar3ZcBFwcPj8i6cw7nnXubms/qt559mi7XS5u7xf5AktGISsuuNG6WUr73k20yWE87lpbFcJfdqO44jhGzbceIkiZNjeFFaYypHHrlaqGVYyj+dqzx+12Im8+KFh3KWq3JvqNgdgRDiBwEhAf34JIwicLa94PqaNrEoXhzxVzcMZiovXV5Robm/DuIYPIhPhinQECFkWRb2/ZGYzBW1qbx4aUXNcEIBxNMP5Lm1j+OcwL7eBgZI+v3fUG00tIfoyLJs204zuzicfaqB7bVifXxeKLw3mIkF8fySdIatgjhJEhuhXq/nOk4SkNBzCfaCIAghNGR2Cezp7IIwvSRl2GohHXtmWclSZz2KKQmCWtafw8HAJwRaEIYR9aaZS/XJRWnmkZKdF1c3dpixe3yWrZy6s3X3RQOOkt4mjihOnMrFwZUnKuyZ8m+Xl982GdU4qO0cVPVu62sfBBhjCOz7sOzAcRxM4UELS8c+0YwfHxqmtvtLbv3c6w4Y6hNHR9bhty+f2+22aZqyLOu63mw2eZ5XVVVRFMMwyuWtTqfTNfe/7+/9m+gvzEjicECMZLoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"use promise\"\n        title=\"use promise\"\n        src=\"/static/6c9e464ffcf0b850783457d6e7a3539d/f058b/use_promise.png\"\n        srcset=\"/static/6c9e464ffcf0b850783457d6e7a3539d/c26ae/use_promise.png 158w,\n/static/6c9e464ffcf0b850783457d6e7a3539d/6bdcf/use_promise.png 315w,\n/static/6c9e464ffcf0b850783457d6e7a3539d/f058b/use_promise.png 630w,\n/static/6c9e464ffcf0b850783457d6e7a3539d/40601/use_promise.png 945w,\n/static/6c9e464ffcf0b850783457d6e7a3539d/00d43/use_promise.png 1000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Promise의 3가지 상태</h2>\n<h3>Pending</h3>\n<p>- Promise 코드가 생성만 되고 실행 되기전 상태(대기)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 384px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVQoz41Sa2/DIAzs//+Hm9ppUvMgJCGYh7ENpCNb92FT97CwhdCd7wycAEApde06pQZlONDt/3Ha9905x1HQJrRcpHrv1XtYaxuiAX4ktxSRAIGspA2DF3BhVEPfdx/k35Rb5pwxIBkiIPISTYwhWkfLskzTpLU2xjzUv5Oji7QRrol9SqkC+GFQ4zj2fR9CaNbu8KPF/t22B58MJU8NqZe1H/p50SwsWf6wfYhziRrRYLQEGtzsJOUcigQ5ZrHEnpmItOZpknlmxDu5lNLOueFNsy2FqzUwduM6rSXvmfcsO2OupVSi4n0Joe0/ybn4OeCMccWgY9pSE5967Z0tADewdTO15Me2q1S4OvOyrZdteTbL02pf23NFbn2663Q+L5eLbRf+8JPUXMkdU1FbQAmIUY6aBJl9jEdtVmvdv8Yb/yx+XpTTT4AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pending\"\n        title=\"pending\"\n        src=\"/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png\"\n        srcset=\"/static/dffc52f4976cad10a609b02f8256d7d1/c26ae/pending.png 158w,\n/static/dffc52f4976cad10a609b02f8256d7d1/6bdcf/pending.png 315w,\n/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png 384w\"\n        sizes=\"(max-width: 384px) 100vw, 384px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Fulfilled</h3>\n<p>- 성공 (then을 통해 값을 받을 수 있다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fulfilled'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npromiseTest<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 391px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVQoz4VS27LbIAzM//9gp530tHOS1mCwERcBEpdU4+SkeehFIwNmWFas9kRExphFLZIxRgDYj5CFc24w86ppWUgpViqB1zDGmLcjTvJ57zHl5BAdciH5VUpdr9dt2+acvVbJ2dpk7q21Pm8P7AGWExFScbVCzZEgZK3U5fIu/Ld/xuk+pZQKlBpq9jVDSRAjsjBba+VRMgrB38FBmMtBXmru0ed1tVqvUrwga62P43LFPV/BHnzeszAjstng+uNqzCpaEtOY4z9lN264ZcGjJ78Gt+yUqZfB2ChQcZkiiVjVGF5XsoaPWh7gUgslumvWSo8Q1U9l9VYLd5qcO9cuLRqifAw9xtn7y5u3lFZEk9EWGYMJ+qJDDORhBN/dzh6E+Q9lzzHTgvDd71/BfQPzye5nFy5R+lqsyW9veD7jl89igIdmT3DrLWP2NvjNIyAnLqESsojH1IaYAlPP2FJqpczDFM845Zy11uIHsSd4uHvmoy/z9/pl5xm/ANQctnVlRLtKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fullfilled\"\n        title=\"fullfilled\"\n        src=\"/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png\"\n        srcset=\"/static/f22d91a091eeeb5876d0b41106f021dc/c26ae/fullfilled.png 158w,\n/static/f22d91a091eeeb5876d0b41106f021dc/6bdcf/fullfilled.png 315w,\n/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png 391w\"\n        sizes=\"(max-width: 391px) 100vw, 391px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Rejected</h3>\n<p>- 실패 (catch를 통해 값을 받을 수 있다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rejected'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npromiseTest<span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 364px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABj0lEQVQoz31Si47jIAzs/3/kXdI2L5ImYIMxkNCb7Op2td29G1kICY09M+bS9317bbu+c85tdpvfYIzBue97XhZpGu262DSyPm6PwrE+/+LiyKWQolOxMccsQcCcpmkYBhF51nqo1n1HHQfq+UkFuZTiXdBN4xajT16ymafb9dpjWozP/+Ikk6PkzuEn2So9LFFYFruuq7UWdojowNDvZBgLfE6WTdVq9jn67Jyf53UcR4iHC/B/JmOy3dwp20YhdSxm2cACE/kxM7r/UzZaIiR5RGX1vtiV+ntnphlNEU49kFg9yvHEedT9PbxS9lJqrRc0wJss4keIj2pTMILklZM3Xp2GOQQTcOZSdFli8xuFS32XzcRFdqWEKlqixvbWApuzHwrrG15lQ5UfvbuTbR13bK+EOw1Mq1cJaRjSOCaszZj6g+dyuJa497a11PH2y7o78+B54KQpTpPih/W9tE1WfSUjLV6ZNo507ilxQuVYkmTkfOQMV7tIwaoR1Vdc7t3dzAZ/+4z3K15c1m/4A5HP7tDl1ZU8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rejected\"\n        title=\"rejected\"\n        src=\"/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png\"\n        srcset=\"/static/89ae8fdcb0791839a293b5ba19a7da89/c26ae/rejected.png 158w,\n/static/89ae8fdcb0791839a293b5ba19a7da89/6bdcf/rejected.png 315w,\n/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png 364w\"\n        sizes=\"(max-width: 364px) 100vw, 364px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>MDN Promise</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d260659e2e6fb18644db01737d5bfc10/2ad15/promises.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxElEQVQoz4VR2Q6DIBDk/z9SH6yoiQcqcnhtnW1oidVIMkFh53AU+77TGfHy3pOUkqGnia7mYwi6WcYYapqGnHPU9z0ty/JndrXEuq5MhABIWmsWKIpPqrIsWXQcR77HXtc1gQcDnOE5GAoIVVXFItPxScMwsIBSio2wW2tZqOs6PsM8jDELXpqm1LYtiwp0FCMQ8zynJEmYDEHcbdv2TRQnRIB5nn8dnrvBOwgYQhIgCD12+PSX3ZEOPWbZi8xRSTC8wxubCiMotoLf/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"promises\"\n        title=\"promises\"\n        src=\"/static/d260659e2e6fb18644db01737d5bfc10/f058b/promises.png\"\n        srcset=\"/static/d260659e2e6fb18644db01737d5bfc10/c26ae/promises.png 158w,\n/static/d260659e2e6fb18644db01737d5bfc10/6bdcf/promises.png 315w,\n/static/d260659e2e6fb18644db01737d5bfc10/f058b/promises.png 630w,\n/static/d260659e2e6fb18644db01737d5bfc10/2ad15/promises.png 801w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>async/await</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  promise1<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    promise2<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      promise3<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        promise4<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드를 보게 되면 읽기도 힘들 뿐더러 유지 보수하기도 어렵다.<br>\n이때 async/await를 써주면 읽기 좋은 코드가 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>얼마나 심플한가. 여기서 reject 처리를 위해 try / catch 문을 같이 써주면 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>참고:</h4>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise\">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise</a><br>\n<a href=\"https://programmingsummaries.tistory.com/325\">https://programmingsummaries.tistory.com/325</a><br>\n<a href=\"https://velog.io/@cyranocoding/2019-08-02-1808-%EC%9E%91%EC%84%B1%EB%90%A8-5hjytwqpqj\">https://velog.io/@cyranocoding/2019-08-02-1808-%EC%9E%91%EC%84%B1%EB%90%A8-5hjytwqpqj</a><br>\n<a href=\"https://joshua1988.github.io/web-development/javascript/promise-for-beginners/\">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p>","frontmatter":{"title":"비동기와 Promise, 그리고 async/await","date":"2020.12.12"}}},"pageContext":{"id":"cd0b45d2-dde8-5371-b87c-4cd70b88ff23"}},"staticQueryHashes":["3000541721","3159585216"]}