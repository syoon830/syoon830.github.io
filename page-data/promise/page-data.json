{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/promise/","result":{"data":{"markdownRemark":{"html":"<p>Promise는 자바스크립트에서 비동기 처리를 위해 사용되는 객체다. 알다시피 Promise의 의미는 약속이라는 의미다. <code class=\"language-text\">처리하면 알려줄게</code>라고 약속한다고 생각하면 될 것 같다.</p>\n<h2>비동기란?</h2>\n<p>동기의 경우 작업을 실행하면 결과를 받을 때까지 다른 일을 할 수가 없지만,<br>\n비동기의 경우 작업을 실행하고 결과를 받을 때까지 기다릴 필요 없이 다른 일을 할 수가 있는 차이가 있다.</p>\n<p>실생활에서 비동기의 예시를 드는 것이 카페에서 진동벨이다. 커피 주문을 하고 그 자리에서 주문한 커피를 기다려 받을 필요 없이, 나는 다른 일을 하면서 진동벨이 울리면 주문한 커피를 받으면 되는 것이다.  </p>\n<p>자바스크립트는 싱글 스레드로 한 번에 하나의 작업만 처리 할 수 있지만, 비동기를 통해 동시에 많은 작업을 수행 할 수가 있다.</p>\n<h2>Promise 사용법</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> testPromise1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 2000ms 지나면 알려줄게!</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'안녕!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 알려주는 값을 알기 위해서는 then을 통해 전달 받자!</span>\ntestPromise1<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Promise 사용 예</h2>\n<p>만약 쇼핑몰 사이트에서 유저가 주문한 상품의 상세 정보를 조회를 해야 한다.  </p>\n<h4>flow:</h4>\n<p>- 유저를 조회하고 조회한 유저의 주문한 상품 정보를 조회한다.</p>\n<h3>비동기로 인해 상품 정보를 조회할 수가 없다. (동시에 2개가 요청이 가버림)</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 예시 코드로 getUserById, getProductById 비동기 객체라는 가정을 한다.</span>\n<span class=\"token keyword\">let</span> user <span class=\"token operator\">=</span> <span class=\"token function\">getUserById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'유저ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> product <span class=\"token operator\">=</span> <span class=\"token function\">getProductById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>orderProductId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// product 값을 조회 할 수 없다.</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/49392b3171fd27abb1d99ce71a9f63ce/4b2cc/not_use_promise.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQoz1WR62vTYBTG84eJsItubitoHUzxxvwoDAUv61ZXy1Y2nWyf1IniNv+Jruktqbv6oUjqrF1bhd6ytEmTNGmbJn2T1/OmMPAhHELy/M55zvtSsxupG8uJmVVm3E8f/jrHGJumZdu242CHaFAd+AC/nn46mQrEbq0xE0vRr7EzCrCr/uhUMH7pWZjlahjbsqz0ej3wgv/iQYTFj94dDs1HPMH45ed7n8O/qftvWc+ruDeUHF2I7P/kwdHpGn0iBBEMw4BGPdPsdLuOg558PB5/Gb0ZSl5ZpHfoHHV3nb2+nJxZY4fn9w5OSWzkJgRCd6VppCqKgvomwNeWYmAGeDuSo+68YadDzION/WFfJMVVDV1piFKz2VRVFSFkWqbtrus2xHMfjjzBxOzmwZif/gLwvXV2MhCHMxvxkdiWoUtSU3bV0jSoxmB/2wb48dbxmD8K5tEFept2J08QODn0IsyQA8NWH7XbbU3TFFlWWy3IDMv3EYHn3h9BYO8KM+JzJz/cTHlXErdfs5Dne66ByRA34v8il4bx4m56evUbmCcD7lWJaqehdmqimvtTERqiqirlcrlYLMLa+Xx+8C4IQqFQkCQxm/978uO0rrQFWde7JjVobFmWLIngqNfrpVIpm83yPJ9Op4HnOK5SqWQymWq1es7XioWzizj/AAgV4HvV4zlpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"not use promise\"\n        title=\"not use promise\"\n        src=\"/static/49392b3171fd27abb1d99ce71a9f63ce/f058b/not_use_promise.png\"\n        srcset=\"/static/49392b3171fd27abb1d99ce71a9f63ce/c26ae/not_use_promise.png 158w,\n/static/49392b3171fd27abb1d99ce71a9f63ce/6bdcf/not_use_promise.png 315w,\n/static/49392b3171fd27abb1d99ce71a9f63ce/f058b/not_use_promise.png 630w,\n/static/49392b3171fd27abb1d99ce71a9f63ce/40601/not_use_promise.png 945w,\n/static/49392b3171fd27abb1d99ce71a9f63ce/4b2cc/not_use_promise.png 1013w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>이때 Promise를 사용하여 해결 할 수 있다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// getUserByID와 getProductId는 Promise 객체로 바꿔 주었다.</span>\n<span class=\"token function\">getUserById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'유저ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getProductId</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>orderProductId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">product</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// product 값을 조회 할 수 있다.</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/65e762a0500ba65bece478eb4875d803/20c85/use_promise.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVQoz1WRy27TQBiF/WqVuKQRTYGWtiuQeAUuEW1Skt6yAIk9tBXpghfIgjq2xwkXoVhgFiiUtIqCvMAlKbZnYo/teOzhty0qcTQeaaz5fM75LdzZVdcanVJdrjQ/J0kcx0nMWPK/4iThnF8Q/+6zznJ2f7GuvEGnQnFTLtWUK0/Eh696jEWu63qeF6cAv1wRS+HfNl3eUfL7V9fF1+0fQqmu3NxChUq7fKgxxoAEPATNZvBkexgxBvDYoWsNtFBTbm2h+ap0JGXwyp5aqEiP9nsRAxseBAHGDiYEYzydTh3b9oMgd17dQ+AETcGsCTAc7r/4UKxKj/c1zhPsOOPJBNgpwS4htmUBn1XmF9hf2UWrjc695+/BOYUXavJiTb6+0S4faDAtQohpmhA9gbSUhr4/i2aQKHP2wPnGUxmmBUmbWWy0tK0WwPlAg27gASUt2/pjWUEYAgRVcnhsQ2cV7t/eVuer8pE0EK5ttIub0lz5+MHLXpLn4zzOxP8pfz9x6NJO6lmstufKbw+PT4SPfRMW+mropyaMllJq2zbsvu/DxNxM8Aso9VzPV/WR8mX06fv5u2+/fp5jIf1wHBPHGpz0QcPhsNvt6rquaZooigghVVXh2Gq1DMM4G/SN0dllor/yauFhdc+zEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"use promise\"\n        title=\"use promise\"\n        src=\"/static/65e762a0500ba65bece478eb4875d803/f058b/use_promise.png\"\n        srcset=\"/static/65e762a0500ba65bece478eb4875d803/c26ae/use_promise.png 158w,\n/static/65e762a0500ba65bece478eb4875d803/6bdcf/use_promise.png 315w,\n/static/65e762a0500ba65bece478eb4875d803/f058b/use_promise.png 630w,\n/static/65e762a0500ba65bece478eb4875d803/40601/use_promise.png 945w,\n/static/65e762a0500ba65bece478eb4875d803/20c85/use_promise.png 999w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Promise의 3가지 상태</h2>\n<h3>Pending</h3>\n<p>- Promise 코드가 생성만 되고 실행 되기전 상태(대기)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 384px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVQoz41Si27DIAzs///hpnaa1JCkhBDM0+bVOV07aVL3OGHLIM53yBwAYJ7n8zDMk5g1+XRl9Ou/cOi9W2sp5GhSNFRzc87NNxhj9kb9x1YHjpyzB4+G0ha9I7B+mkYhhk/yb8ocpZToI26IgOhz1IG3YFEpJW/QWrfWfiQHG5LGuCZyKaUG4MZxnqZJCOG9Z2t383v+Kh62HTgmJ4d8U6pVjGJRkjLlkv+wvYtT9TLELXlDIMFKW1KpoRZfyCIaJEeEiFKSvGS1UAh3cq2Vz8lS0mw7V2pGwzRM6rLW0gv1kjuPo9XaEKtz1XuuH+RS3eLDEsMaWT9ticUvQlprKsAVTNt0K+W57ZYbnK1+29bTpl61elnNO48rEPcZzpfjUZ1ORuv+9JO00pAf5mhfgAmQYt5zypHIhbBnttpa/44P8CZ+VHtX96gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pending\"\n        title=\"pending\"\n        src=\"/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png\"\n        srcset=\"/static/dffc52f4976cad10a609b02f8256d7d1/c26ae/pending.png 158w,\n/static/dffc52f4976cad10a609b02f8256d7d1/6bdcf/pending.png 315w,\n/static/dffc52f4976cad10a609b02f8256d7d1/804b2/pending.png 384w\"\n        sizes=\"(max-width: 384px) 100vw, 384px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Fulfilled</h3>\n<p>- 성공 (then을 통해 값을 받을 수 있다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fulfilled'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npromiseTest<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 391px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVQoz4WSi27VMAyGz/u/IAJtA3E6mqRJ49xtJ83B6w5sIC6/rLSV+tl/bF9ijNu2rWqVSCkBwH5KXrz3BzMbTetKSrFSGYKG4zjm7dSFiEIIJdfiiwS1l0+l1LI8O+fmnANRYvY+mUfvfczbnb1dXh85ZAQkoJo4xKaVul6/SuXbP/UDzrkBYsQasELLkFJhqWytlUvJKRb+DsfcfGseERrWkUI1xmptlmUREhHvv0uK13gPBwh1r1K5FN4cXJ8XY7QwSCj9+Y/tzqO6KnwJFEz0606VRptcOkVqvlIiaRZulo0hu/Hp5Q43bJTptI29jQRJfVNWO2w8aHIdjEMsHNL5FEdKc4x3d3Ylm1Jsra7JGbekryamSAGOGIbfewCp/Afb85h5LfAl7I/gP8P2we4PPl6TzLXZrT491ceH8umjLMC9Zz9hYqqlBheDCwUKZ24RqbA0j7EfshQlj1p6zr21+cK+6SLD1Fq73cl6QoAz9Vvu38Y7f9V3hCC2Q8KElnsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fullfilled\"\n        title=\"fullfilled\"\n        src=\"/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png\"\n        srcset=\"/static/f22d91a091eeeb5876d0b41106f021dc/c26ae/fullfilled.png 158w,\n/static/f22d91a091eeeb5876d0b41106f021dc/6bdcf/fullfilled.png 315w,\n/static/f22d91a091eeeb5876d0b41106f021dc/14e0c/fullfilled.png 391w\"\n        sizes=\"(max-width: 391px) 100vw, 391px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Rejected</h3>\n<p>- 실패 (catch를 통해 값을 받을 수 있다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> promiseTest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rejected'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>promiseTest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npromiseTest<span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 364px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVQoz31Sia6cMAzk/z+yhV0IEI4czuEkEN7wXlVptdsOlhVExh4PboQQ3aMbxGCMUVot6wJIKZGP48jbFtuWhwE57utzKxTrdV31TldjrEk+RcNBx4zHBzDneR7HMYSAWydzPQ7EeeP6Zv1BU0rxxrNKUXF0yYe8rPL5fAoxMPP1X9xka20yd3OQnWa7aWv9uup93803cOFu+k7GYJ7QmcMeWXN2ObpsjFuWfZomiMcU4H8mo7NRBuSoYrBsKchVgQUm/CMiVP+nbJQMPoQtMrFzRe9W9IOcFxSFOfWEY/Us54VDrcePeaUcJeO1QQF8C2twE8RDefIywHmm5KRLhv3ivfTIuRRe19j+vmNZ6o9sslTCwTYhCpfIsXs+uq5TRv9VWGv9IBuq3OxMb3Vn7ED6YXG2I9ndsXdpHNM08tBHOdcPM5fTPCwJp1sNsvqlTU80OhopcWI5MzZMiNC1+e23N3CLdrKKouXk8i2eUo4l+Qyfz5KxBof3yCesekXTD71cJHb7tvcV9XXQ+oYvwmfu3J3GLu8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rejected\"\n        title=\"rejected\"\n        src=\"/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png\"\n        srcset=\"/static/89ae8fdcb0791839a293b5ba19a7da89/c26ae/rejected.png 158w,\n/static/89ae8fdcb0791839a293b5ba19a7da89/6bdcf/rejected.png 315w,\n/static/89ae8fdcb0791839a293b5ba19a7da89/e45a9/rejected.png 364w\"\n        sizes=\"(max-width: 364px) 100vw, 364px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>MDN Promise</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d260659e2e6fb18644db01737d5bfc10/2ad15/promises.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQoz4VR2Q6DIBDk/z9SH6yijbeIt1NmDY1pNW4yIcDOwaL2fccvzjVNE3SSIHEwfY+r/jMUbspai6IoMI4jmqbBsix/ZleljDFCpABJ3FNA6yNVmqYi2nWd3HPN8xzruooB123bvoaK5HeWiUjvntS2rQjUdS1GXIdhEKGqquQsc/00Zi95YRiiLEsRVZzRGZ4YxzGCIBAyBXnnkzCVT8g9A8zzfCS8+gj/FDYxCeGFHmf49Mt05xyj6AXrRuIN7/ABbBgjCP0dPBcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"promises\"\n        title=\"promises\"\n        src=\"/static/d260659e2e6fb18644db01737d5bfc10/f058b/promises.png\"\n        srcset=\"/static/d260659e2e6fb18644db01737d5bfc10/c26ae/promises.png 158w,\n/static/d260659e2e6fb18644db01737d5bfc10/6bdcf/promises.png 315w,\n/static/d260659e2e6fb18644db01737d5bfc10/f058b/promises.png 630w,\n/static/d260659e2e6fb18644db01737d5bfc10/2ad15/promises.png 801w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>async/await</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  promise1<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    promise2<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      promise3<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        promise4<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드를 보게 되면 읽기도 힘들 뿐더러 유지 보수하기도 어렵다.<br>\n이때 async/await를 써주면 읽기 좋은 코드가 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">promise4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>얼마나 심플한가. 여기서 reject 처리를 위해 try / catch 문을 같이 써주면 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">callPromises</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">promise4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>참고:</h4>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise\">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise</a><br>\n<a href=\"https://programmingsummaries.tistory.com/325\">https://programmingsummaries.tistory.com/325</a><br>\n<a href=\"https://velog.io/@cyranocoding/2019-08-02-1808-%EC%9E%91%EC%84%B1%EB%90%A8-5hjytwqpqj\">https://velog.io/@cyranocoding/2019-08-02-1808-%EC%9E%91%EC%84%B1%EB%90%A8-5hjytwqpqj</a><br>\n<a href=\"https://joshua1988.github.io/web-development/javascript/promise-for-beginners/\">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p>","frontmatter":{"title":"비동기와 Promise, 그리고 async/await","date":"2020.12.12"}}},"pageContext":{"id":"efe3fe58-bf8e-5de0-b81c-3c80dad56b79"}},"staticQueryHashes":["3000541721","3159585216"]}